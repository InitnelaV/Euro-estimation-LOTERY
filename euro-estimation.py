import pandas as pd

# La liste des tirages donnée (!!!à incrémenter après chaques tirages Euromillions)
tirages = """
9-25-28-37-38,2-8
4-19-23-35-37,4-8
4-8-10-16-34,4-8
15-22-35-44-48,6-7
2-32-35-36-39,7-8
12-18-24-25-39,8-10
6-15-19-28-39,7-11
11-13-29-31-47,1-11
2-7-34-35-46,6-8
10-16-18-22-35,1-10
14-16-37-45-49,5-7
3-4-7-11-17,3-12
3-11-33-34-36,1-12
2-13-16-24-32,1-7
7-15-34-45-48,7-9
15-16-26-30-37,5-8
6-7-9-14-43,3-4
4-7-16-33-34,7-8
16-18-35-36-41,6-7
9-12-18-22-50,1-3
11-13-14-34-48,7-9
18-31-32-41-46,1-10
2-8-17-28-35,7-9
13-28-29-44-48,4-12
35-36-41-42-45,6-11
6-9-10-30-49,3-4
13-22-24-33-47,1-5
2-20-39-40-47,4-8
6-9-11-32-49,2-10
10-20-40-44-46,1-3
22-29-31-39-46,3-7
2-3-12-16-45,2-11
19-23-26-27-46,2-10
13-18-26-35-37,8-11
1-23-31-36-48,5-8
16-17-35-36-49,1-10
2-13-14-26-29,5-6
8-11-23-32-44,9-10
7-16-18-20-32,1-3
1-4-31-34-40,4-5
13-19-30-38-46,4-12
8-11-12-16-44,4-7
18-31-32-41-46,1-10
2-8-17-28-35,7-9
13-28-29-44-48,4-12
35-36-41-42-45,6-11
6-9-10-30-49,3-4
13-22-24-33-47,1-5
2-20-39-40-47,4-8
6-9-11-32-49,2-10
10-20-40-44-46,1-3
22-29-31-39-46,3-7
2-3-12-16-45,2-11
19-23-26-27-46,2-10
13-18-26-35-37,8-11
1-23-31-36-48,5-8
16-17-35-36-49,1-10
2-13-14-26-29,5-6
8-11-23-32-44,9-10
7-16-18-20-32,1-3
1-4-31-34-40,4-5
13-19-30-38-46,4-12
8-11-12-16-44,4-7
18-31-32-41-46,1-10
2-8-17-28-35,7-9
13-28-29-44-48,4-12
35-36-41-42-45,6-11
6-9-10-30-49,3-4
13-22-24-33-47,1-5
2-20-39-40-47,4-8
6-9-11-32-49,2-10
10-20-40-44-46,1-3
22-29-31-39-46,3-7
2-3-12-16-45,2-11
19-23-26-27-46,2-10
13-18-26-35-37,8-11
1-23-31-36-48,5-8
16-17-35-36-49,1-10
2-13-14-26-29,5-6
8-11-23-32-44,9-10
7-16-18-20-32,1-3
1-4-31-34-40,4-5
13-19-30-38-46,4-12
8-11-12-16-44,4-7
18-31-32-41-46,1-10
2-8-17-28-35,7-9
13-28-29-44-48,4-12
35-36-41-42-45,6-11
6-9-10-30-49,3-4
13-22-24-33-47,1-5
2-20-39-40-47,4-8
6-9-11-32-49,2-10
10-20-40-44-46,1-3
22-29-31-39-46,3-7
2-3-12-16-45,2-11
19-23-26-27-46,2-10
13-18-26-35-37,8-11
1-23-31-36-48,5-8
16-17-35-36-49,1-10
2-13-14-26-29,5-6
8-11-23-32-44,9-10
7-16-18-20-32,1-3
1-4-31-34-40,4-5
13-19-30-38-46,4-12
8-11-12-16-44,4-7
18-31-32-41-46,1-10
2-8-17-28-35,7-9
13-28-29-44-48,4-12
35-36-41-42-45,6-11
6-9-10-30-49,3-4
13-22-24-33-47,1-5
2-20-39-40-47,4-8
6-9-11-32-49,2-10
10-20-40-44-46,1-3
22-29-31-39-46,3-7
2-3-12-16-45,2-11
19-23-26-27-46,2-10
13-18-26-35-37,8-11
1-23-31-36-48,5-8
16-17-35-36-49,1-10
2-13-14-26-29,5-6
8-11-23-32-44,9-10
7-16-18-20-32,1-3
1-4-31-34-40,4-5
13-19-30-38-46,4-12
8-11-12-16-44,4-7
18-31-32-41-46,1-10
2-8-17-28-35,7-9
13-28-29-44-48,4-12
35-36-41-42-45,6-11
6-9-10-30-49,3-4
13-22-24-33-47,1-5
2-20-39-40-47,4-8
6-9-11-32-49,2-10
10-20-40-44-46,1-3
22-29-31-39-46,3-7
2-3-12-16-45,2-11
19-23-26-27-46,2-10
13-18-26-35-37,8-11
1-23-31-36-48,5-8
16-17-35-36-49,1-10
2-13-14-26-29,5-6
8-11-23-32-44,9-10
7-16-18-20-32,1-3
1-4-31-34-40,4-5
13-19-30-38-46,4-12
8-11-12-16-44,4-7
18-31-32-41-46,1-10
2-8-17-28-35,7-9
13-28-29-44-48,4-12
35-36-41-42-45,6-11
6-9-10-30-49,3-4
13-22-24-33-47,1-5
2-20-39-40-47,4-8
6-9-11-32-49,2-10
10-20-40-44-46,1-3
22-29-31-39-46,3-7
2-3-12-16-45,2
"""

# Conversion de toute la chaîne de caractères en liste de tuples
tirages_lignes = tirages.strip().split("\n")
tirages_tuples = [(ligne.split(",")[0].split("-"), ligne.split(",")[1].split("-")) for ligne in tirages_lignes]

# Dico de comptage Boules classiques (1 à 50)
boules_counts = {i: 0 for i in range(1, 51)}

# Dico de comptage Boules étoiles (1 à 12)
etoiles_counts = {i: 0 for i in range(1, 13)}

# Occurrences de chaques boules et chaques étoiles
for boules, etoiles in tirages_tuples:
    for boule in boules:
        boules_counts[int(boule)] += 1
    for etoile in etoiles:
        etoiles_counts[int(etoile)] += 1

# Calcul Des probabilités
total_tirages = len(tirages_tuples)
boules_probs = {k: v / total_tirages for k, v in boules_counts.items()}
etoiles_probs = {k: v / total_tirages for k, v in etoiles_counts.items()}

# Convertir les dictionnaires de probabilités en DataFrames (Merci Monsieur pour cette ârtie G.P.T)
boules_df = pd.DataFrame(list(boules_probs.items()), columns=["Boule", "Probabilité"])
etoiles_df = pd.DataFrame(list(etoiles_probs.items()), columns=["Étoile", "Probabilité"])

# Afficher les résultats
print("Probabilités des boules :")
print(boules_df)
print("\nProbabilités des étoiles :")
print(etoiles_df)

# Trier les boules et étoiles par leurs probabilités décroissantes
sorted_boules = sorted(boules_probs.items(), key=lambda x: x[1], reverse=True)
sorted_etoiles = sorted(etoiles_probs.items(), key=lambda x: x[1], reverse=True)

# Sélectionner les 5 premières boules et les 2 premières étoiles
top_5_boules = [b[0] for b in sorted_boules[:5]]
top_2_etoiles = [e[0] for e in sorted_etoiles[:2]]

# Afficher la combinaison la plus probable
print("Combinaison la plus probable:")
print(f"Boules: {top_5_boules}")
print(f"Étoiles: {top_2_etoiles}")